(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("FourCorners", [], factory);
	else if(typeof exports === 'object')
		exports["FourCorners"] = factory();
	else
		root["FourCorners"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n__webpack_require__(/*! styles.scss */ \"./src/styles.scss\");\n\nvar FourCornersPhoto =\n/*#__PURE__*/\nfunction () {\n  function FourCornersPhoto(embed, opts) {\n    _classCallCheck(this, FourCornersPhoto);\n\n    this.corners = ['authorship', 'backstory', 'imagery', 'links'];\n    this.cornerTitles = ['Authorship', 'Backstory', 'Related Imagery', 'Links'];\n    this.elems = {\n      embed: embed\n    };\n    var defaultOpts = {\n      selector: '.fc-embed',\n      \"static\": false,\n      caption: false,\n      credit: false,\n      logo: false,\n      active: ''\n    };\n    var data = parseData(this);\n    this.photo = data ? data.photo : {};\n    this.opts = Object.assign(defaultOpts, opts);\n    this.opts = data ? Object.assign(this.opts, data.opts) : {};\n    this.content = {\n      authorship: data ? data.authorship : {},\n      backstory: data ? data.backstory : {},\n      imagery: data ? data.imagery : {},\n      links: data ? data.links : {}\n    };\n    this.onImgLoad = new Event('onImgLoad');\n    this.onImgFail = new Event('onImgFail');\n    this.elems.photo = addPhoto(this);\n    this.elems.panels = addPanels(this);\n    this.elems.media = embedMedia(this);\n    this.elems.corners = addCorners(this);\n    this.elems.cutline = addCutline(this);\n    initEmbed(this);\n  }\n\n  _createClass(FourCornersPhoto, [{\n    key: \"getPanel\",\n    value: function getPanel(slug) {\n      var embed = this.elems.embed;\n\n      if (!embed) {\n        return;\n      }\n\n      var panelSelector = '.fc-panel';\n\n      if (slug) {\n        panelSelector += '[data-fc-slug=\"' + slug + '\"]';\n        return embed.querySelector(panelSelector);\n      }\n\n      return embed.querySelectorAll(panelSelector);\n    }\n  }, {\n    key: \"openPanel\",\n    value: function openPanel(slug) {\n      var inst = this;\n      var corners = inst.corners;\n      var embed = inst.elems.embed;\n      var corner = inst.elems.corners[slug];\n      var panel = inst.getPanel(slug);\n      embed.classList.remove('fc-full');\n\n      if (embed && corner && panel) {\n        embed.dataset.fcActive = slug;\n        embed.classList.add('fc-active');\n        corner.classList.add('fc-active');\n        panel.classList.add('fc-active');\n      }\n\n      corners.forEach(function (_slug, i) {\n        if (_slug != slug) {\n          inst.closePanel(_slug);\n        }\n      });\n    }\n  }, {\n    key: \"closePanel\",\n    value: function closePanel(slug) {\n      var inst = this;\n      var embed = inst.elems.embed;\n\n      if (!slug) {\n        slug = embed.dataset.fcActive;\n      }\n\n      if (!slug) {\n        return;\n      }\n\n      var corner = inst.elems.corners[slug];\n      var panel = inst.getPanel(slug);\n\n      if (slug == embed.dataset.fcActive) {\n        embed.dataset.fcActive = '';\n        embed.classList.remove('fc-active');\n      }\n\n      if (corner) {\n        corner.classList.remove('fc-active');\n      }\n\n      if (panel) {\n        panel.classList.remove('fc-active');\n      }\n    }\n  }, {\n    key: \"toggleExpandPanel\",\n    value: function toggleExpandPanel() {\n      var inst = this;\n      inst.elems.embed.classList.toggle('fc-full');\n    }\n  }]);\n\n  return FourCornersPhoto;\n}();\n\nvar initEmbed = function initEmbed(inst) {\n  var embed = inst.elems.embed;\n  embed.classList.add('fc-init');\n\n  if (inst.opts.dark) {\n    embed.classList.add('fc-dark');\n  }\n\n  if (inst.opts[\"static\"]) {\n    embed.classList.add('fc-static');\n  } else {\n    embed.addEventListener('click', function (e) {\n      var onPanels = isChildOf(e.target, inst.getPanel());\n      var onCorners = isChildOf(e.target, inst.elems.corners);\n      var inCreator = isChildOf(e.target, Array.from(document.querySelectorAll('#creator')));\n\n      if (!onPanels && !onCorners && !inCreator) {\n        inst.closePanel();\n        inst.elems.embed.classList.remove('fc-full');\n      }\n    });\n  }\n\n  window.addEventListener('resize', function (e) {\n    resizeEmbed(e, inst);\n  });\n  resizeEmbed(null, inst);\n};\n\nvar resizeEmbed = function resizeEmbed(e, inst) {\n  var panels = inst.getPanel();\n\n  if (!panels) {\n    return;\n  }\n\n  Object.keys(panels).forEach(function (slug, i) {\n    resizePanel(panels[slug]);\n  });\n};\n\nvar resizePanel = function resizePanel(panel) {\n  if (typeof panel.querySelector !== 'function') {\n    return;\n  }\n\n  var panelScroll = panel.querySelector('.fc-scroll');\n\n  if (!panelScroll) {\n    return;\n  }\n\n  if (panelScroll.scrollHeight > panelScroll.clientHeight) {\n    panel.classList.add('fc-overflow');\n  } else {\n    panel.classList.remove('fc-overflow');\n  }\n};\n\nvar addPhoto = function addPhoto(inst) {\n  var photo,\n      img,\n      embed = inst.elems.embed,\n      width = inst.photo.width,\n      height = inst.photo.height,\n      ratio = width / height,\n      imgSelector = '.fc-img';\n  embed.style.paddingBottom = 100 / ratio + '%';\n  img = embed.querySelector(imgSelector);\n\n  if (!img) {\n    embed.classList.add('fc-empty');\n  }\n\n  var pseudoImg = new Image();\n  embed.classList.add('fc-loading');\n\n  pseudoImg.onload = function (e) {\n    embed.style.paddingBottom = '';\n    embed.classList.remove('fc-loading');\n    embed.dispatchEvent(inst.onImgLoad);\n  };\n\n  pseudoImg.onerror = function (e) {\n    embed.classList.remove('fc-loading');\n    embed.classList.add('fc-empty');\n    embed.dispatchEvent(inst.onImgFail);\n  };\n\n  pseudoImg.src = img ? img.src : null;\n  return img;\n};\n\nvar addPanels = function addPanels(inst) {\n  var data,\n      panels = {};\n  var embed = inst.elems.embed;\n\n  if (!embed) {\n    return;\n  }\n\n  inst.corners.forEach(function (slug, i) {\n    var active = inst.opts.active;\n    var panel = inst.getPanel(slug);\n\n    if (!panel) {\n      var panelInner = '';\n\n      if (inst.content && inst.content[slug]) {\n        var panelContent = inst.content[slug];\n\n        switch (slug) {\n          case 'authorship':\n            panelInner = buildAuthorship(inst, panelContent);\n            break;\n\n          case 'backstory':\n            panelInner = buildBackstory(inst, panelContent);\n            break;\n\n          case 'imagery':\n            panelInner = buildImagery(inst, panelContent);\n            break;\n\n          case 'links':\n            panelInner = buildLinks(inst, panelContent);\n            break;\n        }\n      }\n\n      var panelTile = inst.cornerTitles[i];\n      var panelClass = 'fc-panel fc-' + slug;\n\n      if (slug == active) {\n        panelClass += ' fc-active';\n      }\n\n      var panelHTML = \"<div data-fc-slug=\\\"\".concat(slug, \"\\\" class=\\\"\").concat(panelClass, \"\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"fc-panel-title\\\">\\n\\t\\t\\t\\t\\t\\t<span>\").concat(panelTile, \"</span>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"fc-icon fc-expand\\\" title=\\\"Expand this panel\\\"></div>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"fc-icon fc-close\\\" title=\\\"Close this panel\\\"></div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"fc-panel-title fc-pseudo\\\">\\n\\t\\t\\t\\t\\t\\t<span>\").concat(inst.corners.indexOf(slug), \"</span>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\").concat(panelInner ? \"<div class=\\\"fc-scroll\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"fc-inner\\\">\\n\\t\\t\\t\\t\\t\\t\\t\".concat(panelInner, \"\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\") : '', \"\\n\\t\\t\\t\\t</div>\");\n      inst.elems.embed.innerHTML += panelHTML;\n    }\n  });\n  inst.corners.forEach(function (slug, i) {\n    var panel = inst.getPanel(slug);\n    panels[slug] = panel;\n    var panelExpand = panel.querySelector('.fc-expand');\n    panelExpand.addEventListener('click', function (e) {\n      inst.toggleExpandPanel();\n    });\n    var panelClose = panel.querySelector('.fc-close');\n    panelClose.addEventListener('click', function (e) {\n      inst.closePanel(slug);\n      inst.elems.embed.classList.remove('fc-full');\n    });\n  });\n  return panels;\n};\n\nvar createRow = function createRow(panelContent, obj, includeLabel) {\n  var label = includeLabel ? \"<div class=\\\"fc-label\\\">\".concat(obj.label, \"</div>\") : '';\n  var content = panelContent[obj.prop];\n  return panelContent[obj.prop] ? \"<div class=\\\"fc-row\\\">\\n\\t\\t\\t\".concat(label, \"\\n\\t\\t\\t\").concat(content, \"\\n\\t\\t</div>\") : '';\n};\n\nvar buildAuthorship = function buildAuthorship(inst, panelContent) {\n  var html,\n      innerHtml = \"\";\n  innerHtml += panelContent['caption'] ? \"<div class=\\\"fc-field\\\">\\n\\t\\t\\t<em>\".concat(panelContent['caption'], \"</em>\\n\\t\\t</div>\") : '';\n  var creditHtml = [];\n\n  if (!panelContent.license) {\n    panelContent.license = {};\n  }\n\n  var hasCopyright = panelContent.license.type == 'copyright';\n\n  if (panelContent.license.year) {\n    creditHtml.push(\"<span>\".concat(panelContent.license.year, \"</span>\"));\n  }\n\n  if (panelContent.credit) {\n    creditHtml.push(\"<span>\".concat(panelContent.license.holder ? panelContent.credit + '/' + panelContent.license.holder : panelContent.credit, \"</span>\"));\n  }\n\n  innerHtml += hasCopyright || panelContent.credit ? \"<div class=\\\"fc-field\\\" data-fc-field=\\\"credit\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-content\\\">\\n\\t\\t\\t\\t\\t\".concat(hasCopyright ? \"<div class=\\\"fc-copyright\\\">\\n\\t\\t\\t\\t\\t\\t\\t\".concat(creditHtml.join(''), \"\\n\\t\\t\\t\\t\\t\\t</div>\") : \"<div>\".concat(panelContent.credit, \"</div>\"), \"\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\") : '';\n  innerHtml += panelContent.license && panelContent.license.label && panelContent.license.type == 'commons' ? \"<div class=\\\"fc-field\\\" data-fc-field=\\\"license\\\">\\n\\t\\t\\t\\t<span class=\\\"fc-label\\\">License</span>\\n\\t\\t\\t\\t<span class=\\\"fc-content\\\">\\n\\t\\t\\t\\t\\t\".concat(panelContent.license.url ? \"<a href=\\\"\".concat(panelContent.license.url, \"\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\").concat(panelContent.license.label ? panelContent.license.label : '', \"\\n\\t\\t\\t\\t\\t</a>\") : panelContent.license.label ? panelContent.license.label : '', \"\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</div>\") : '';\n  innerHtml += panelContent.ethics && panelContent.ethics.desc ? \"<div class=\\\"fc-field\\\" data-fc-field=\\\"ethics\\\">\\n\\t\\t\\t\\t<span class=\\\"fc-label\\\">Code of ethics</span>\\n\\t\\t\\t\\t<span class=\\\"fc-content\\\">\".concat(panelContent.ethics.desc, \"</span>\\n\\t\\t\\t</div>\") : '';\n  innerHtml += panelContent['bio'] ? \"<div class=\\\"fc-field\\\">\\n\\t\\t\\t<span class=\\\"fc-label\\\">Bio</span>\\n\\t\\t\\t\".concat(panelContent['bio'], \"\\n\\t\\t</div>\") : '';\n  innerHtml += panelContent['website'] || panelContent['0-contact'] || panelContent['1-contact'] ? \"<div class=\\\"fc-field fc-contact\\\">\\n\\n\\t\\t\\t\".concat(panelContent['website'] ? \"<div class=\\\"fc-field fc-card\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-label\\\">Website</div>\\n\\t\\t\\t\\t\".concat(createLink(panelContent['website']), \"\\n\\t\\t\\t</div>\") : '', \"\\n\\n\\t\\t\\t\").concat(panelContent['0-contact'] ? \"<div class=\\\"fc-field fc-card\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-label\\\">For more info contact</div>\\n\\t\\t\\t\\t\".concat(createLink(panelContent['0-contact']), \"\\n\\t\\t\\t</div>\") : '', \"\\n\\n\\t\\t\\t\").concat(panelContent['1-contact'] ? \"<div class=\\\"fc-field fc-card\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-label\\\">For reproduction rights contact</div>\\n\\t\\t\\t\\t\".concat(createLink(panelContent['1-contact']), \"\\n\\t\\t\\t</div>\") : '', \"\\n\\n\\t\\t</div>\") : '';\n\n  if (innerHtml.length) {\n    html = \"<div class=\\\"fc-row\\\">\".concat(innerHtml, \"</div>\");\n  }\n\n  return html;\n};\n\nvar buildBackstory = function buildBackstory(inst, panelContent) {\n  var html = \"\".concat(panelContent['text'] ? \"<div class=\\\"fc-row\\\">\\n\\t\\t\\t\".concat(wrapParagraphs(panelContent['text']), \"\\n\\t\\t</div>\") : '', \"\\n\\t\\t\").concat(panelContent.media ? panelContent.media.map(function (obj, i) {\n    embedIframe(inst, obj, 'backstory', i);\n    return \"<div class=\\\"fc-row\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-media\\\" data-fc-source=\\\"\".concat(obj.source, \"\\\"></div>\\n\\t\\t\\t\\t\").concat(obj.caption ? \"<div class=\\\"fc-sub-caption\\\">\".concat(obj.caption, \"</div>\") : '', \"\\n\\t\\t\\t\\t\").concat(obj.credit ? \"<div class=\\\"fc-sub-credit\\\">\".concat(obj.credit, \"</div>\") : '', \"\\n\\t\\t\\t</div>\");\n  }).join('') : '');\n  return html;\n};\n\nvar buildImagery = function buildImagery(inst, panelContent) {\n  if (!panelContent.media) {\n    return;\n  }\n\n  var html = \"\".concat(panelContent.media.map(function (obj, i) {\n    return \"<div class=\\\"fc-row\\\">\\n\\t\\t\\t\\t<div class=\\\"fc-media\\\" data-fc-source=\\\"\".concat(obj.source, \"\\\">\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\").concat(obj.caption ? \"<div class=\\\"fc-sub-caption\\\">\".concat(obj.caption, \"</div>\") : '', \"\\n\\t\\t\\t\\t\").concat(obj.credit ? \"<div class=\\\"fc-sub-credit\\\">\".concat(obj.credit, \"</div>\") : '', \"\\n\\t\\t\\t</div>\");\n  }).join(''));\n  return html;\n};\n\nvar buildLinks = function buildLinks(inst, panelContent) {\n  if (!panelContent.links) {\n    return;\n  }\n\n  var html = panelContent.links.map(function (obj) {\n    if (!obj || !obj.url) {\n      return null;\n    }\n\n    var rootUrl = extractRootDomain(obj.url);\n    var text = obj.url ? \"\".concat(obj.title ? obj.title : rootUrl, \"\\n\\t\\t\\t<div class=\\\"fc-sub-url\\\">\").concat(rootUrl, \"</div>\") : '';\n    return \"<div class=\\\"fc-row\\\">\".concat(createLink(obj.url, text, ['fc-card']), \"</div>\");\n  }).join('');\n  return html;\n};\n\nvar embedMedia = function embedMedia(inst) {\n  var media = inst.content.imagery.media;\n\n  if (!media) {\n    return;\n  }\n\n  var mediaKeys = Object.keys(media);\n  mediaKeys.forEach(function (key, i) {\n    var obj = media[key];\n\n    if (obj.source == 'image' || obj.source == 'instagram' || !obj.source) {\n      embedImage(inst, obj, 'imagery', i);\n    } else {\n      embedIframe(inst, obj, 'imagery', i);\n    }\n  }); // panelContent.media.map((obj, i) => {\n  // \tobj.source == 'image' || !obj.source ? embedImage(inst, obj, 'imagery', i) : embedIframe(inst, obj, 'imagery', i);\n  // });\n};\n\nvar embedImage = function embedImage(inst, obj, panelKey, index) {\n  if (!obj.url) {\n    return;\n  }\n\n  var pseudoImg = new Image();\n\n  pseudoImg.onload = function (e) {\n    var img = \"<img src=\\\"\".concat(obj.url, \"\\\"/>\");\n    var panel = inst.elems.panels[panelKey];\n    var media = panel.querySelectorAll('.fc-media')[index];\n    media.innerHTML += img;\n  }; // pseudoImg.onerror = (e) => {\n  // console.warn('Four Corners cannot load this as an image: '+obj.url, e);\n  // const img = `<img src=\"${obj.url}\"/>`;\n  // const panel = inst.elems.panels[panelKey];\n  // let media = panel.querySelectorAll('.fc-media')[index];\n  // media.innerHTML += img;\n  // }\n\n\n  pseudoImg.src = obj.url;\n  return;\n};\n\nvar embedIframe = function embedIframe(inst, obj, panelKey, index) {\n  //requests third party APIs to retrieve embed data\n  var req = '';\n\n  switch (obj.source) {\n    case 'youtube':\n      req = 'https://noembed.com/embed?url=' + obj.url;\n      break;\n\n    case 'vimeo':\n      req = 'https://vimeo.com/api/oembed.json?url=' + obj.url;\n      break;\n\n    case 'soundcloud':\n      req = 'https://soundcloud.com/oembed?format=json&url=' + obj.url;\n      break;\n\n    default:\n      return false;\n      break;\n  }\n\n  var headers = new Headers();\n  fetch(req, {\n    method: 'GET',\n    headers: headers\n  }).then(function (res) {\n    if (!res.ok) {\n      throw Error(res.statusText);\n    }\n\n    return res.json();\n  }).then(function (res) {\n    var panel = inst.elems.panels[panelKey];\n    var subMedia = panel.querySelectorAll('.fc-media')[index],\n        html = res.html;\n\n    if (Number.isInteger(res.width, res.height)) {\n      var ratio = res.height / res.width;\n      subMedia.classList.add('fc-responsive');\n      subMedia.style.paddingBottom = ratio * 100 + '%';\n    }\n\n    subMedia.innerHTML = html;\n  })[\"catch\"](function (err) {\n    console.warn('Four Corners cannot load this media source: ' + obj.url, err);\n  });\n};\n\nvar addCorners = function addCorners(inst) {\n  var data,\n      corners = {};\n  var embed = inst.elems.embed;\n  var photo = inst.elems.photo;\n  var active = inst.opts.active;\n  inst.corners.forEach(function (slug, i) {\n    var cornerSelector = '.fc-corner[data-fc-slug=\"' + slug + '\"]';\n\n    if (embed.querySelector(cornerSelector)) {\n      return;\n    }\n\n    var corner = document.createElement('div');\n    corner.dataset.fcSlug = slug;\n    corner.title = 'View ' + slug;\n    corner.classList.add('fc-corner');\n    corner.classList.add('fc-' + slug);\n\n    if (slug == active) {\n      corner.classList.add('fc-active');\n    }\n\n    if (inst.content) {\n      data = inst.content[slug];\n\n      if (!data || !Object.keys(data).length) {\n        corner.classList.add('fc-empty');\n      }\n    }\n\n    if (!inst.opts[\"static\"]) {\n      corner.addEventListener('mouseenter', function (e) {\n        hoverCorner(e, inst);\n      });\n      corner.addEventListener('mouseleave', function (e) {\n        unhoverCorner(e, inst);\n      });\n      corner.addEventListener('click', function (e) {\n        clickCorner(e, inst);\n      });\n    }\n\n    corners[slug] = corner;\n    embed.appendChild(corner);\n  });\n  return corners;\n};\n\nvar addCutline = function addCutline(inst) {\n  var content = inst.content.authorship;\n\n  if (!content && !inst.opts.caption && !inst.opts.credit && !inst.opts.logo) {\n    return;\n  }\n\n  var data = inst.content['authorship'];\n\n  if (!data) {\n    return;\n  }\n\n  var embed = inst.elems.embed;\n  var caption = inst.opts.caption && content.caption ? \"<span class=\\\"fc-caption\\\">\".concat(content.caption, \"</span>\") : '';\n  var credit = inst.opts.credit && (content.credit || content.license.holder) ? \"<span class=\\\"fc-credit\\\">\\n\\t\\t\\t\".concat((content.credit ? \"<span>\".concat(content.credit, \"</span>\") : '') + (content.license.holder ? \"<span>\".concat(content.license.holder, \"</span>\") : ''), \"\\n\\t\\t</span>\") : '';\n  var logo = inst.opts.logo ? \"<a href=\\\"https://fourcornersproject.org\\\" target=\\\"_blank\\\" class=\\\"fc-logo\\\" title=\\\"This is a Four Corners photo\\\"></a>\" : '';\n  var cutline = \"<div class=\\\"fc-cutline\\\">\\n\\t\\t\\t\".concat(caption + credit + logo, \"\\n\\t\\t</div>\");\n  embed.insertAdjacentHTML('afterend', cutline);\n  return cutline;\n};\n\nvar parseData = function parseData(inst) {\n  if (!inst.elems || !inst.elems.embed) {\n    return;\n  }\n\n  var stringData = inst.elems.embed.dataset.fc;\n\n  if (!stringData) {\n    return;\n  }\n\n  delete inst.elems.embed.dataset.fc;\n  return JSON.parse(stringData);\n};\n\nvar hoverCorner = function hoverCorner(e, inst) {\n  var corner = e.target;\n  corner.classList.add('fc-hover');\n};\n\nvar unhoverCorner = function unhoverCorner(e, inst) {\n  var corner = e.target;\n  corner.classList.remove('fc-hover');\n};\n\nvar clickCorner = function clickCorner(e, inst) {\n  var corner = e.target;\n  var slug = corner.dataset.fcSlug;\n  var active = inst.elems.embed.dataset.fcActive;\n\n  if (!slug) {\n    return;\n  }\n\n  if (slug == active) {\n    inst.closePanel(slug);\n  } else {\n    inst.openPanel(slug);\n  }\n};\n\nvar isChildOf = function isChildOf(target, ref) {\n  var answer = false;\n  Object.entries(ref).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        elem = _ref2[1];\n\n    if (elem && elem.contains && elem.contains(target)) {\n      answer = true;\n    }\n  });\n  return answer;\n};\n\nvar wrapParagraphs = function wrapParagraphs(val) {\n  var array = val.split(/\\n/g);\n  var text = [];\n  var html = array ? \"\".concat(array.map(function (str, i) {\n    return str ? \"<p>\".concat(str, \"</p>\") : \"<br/>\";\n  }).join('')) : '';\n  return html;\n};\n\nvar createLink = function createLink(href, text) {\n  var classes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  if (!text) {\n    text = extractRootDomain(href);\n  }\n\n  if (href.indexOf('@') > -1) {\n    href = 'mailto:' + href;\n  }\n\n  return \"<a href=\\\"\".concat(href, \"\\\" target=\\\"_blank\\\" class=\\\"\").concat(classes.join(' '), \"\\\">\").concat(text, \"</a>\");\n};\n\nvar extractHostname = function extractHostname(url) {\n  var hostname;\n\n  if (!url) {\n    return false;\n  }\n\n  if (url.indexOf('//') > -1) {\n    hostname = url.split('/')[2];\n  } else {\n    hostname = url.split('/')[0];\n  }\n\n  hostname = hostname.split(':')[0];\n  hostname = hostname.split('?')[0];\n  return hostname;\n};\n\nvar extractRootDomain = function extractRootDomain(url) {\n  if (!url) {\n    return false;\n  }\n\n  var domain = extractHostname(url);\n  var splitArr = domain.split('.');\n  var arrLen = splitArr.length;\n\n  if (arrLen > 2) {\n    domain = splitArr[arrLen - 2] + '.' + splitArr[arrLen - 1];\n\n    if (splitArr[arrLen - 2].length == 2 && splitArr[arrLen - 1].length == 2) {\n      domain = splitArr[arrLen - 3] + '.' + domain;\n    }\n  }\n\n  return domain;\n};\n\nvar hasField = function hasField(panelContent, fieldKey, subFieldKey) {\n  if (!panelContent) {\n    return false;\n  }\n\n  if (!panelContent[fieldKey]) {\n    return false;\n  }\n\n  if (_typeof(panelContent[fieldKey]) == 'object') {\n    if (!Object.keys(panelContent[fieldKey]).length) {\n      return false;\n    }\n  } else {\n    if (!panelContent[fieldKey].length) {\n      return false;\n    }\n  }\n\n  if (!subFieldKey || !panelContent[fieldKey][subFieldKey]) {\n    return false;\n  }\n\n  if (_typeof(panelContent[fieldKey][subFieldKey]) == 'object') {\n    if (!Object.keys(panelContent[fieldKey][subFieldKey]).length) {\n      return false;\n    }\n  } else {\n    if (!panelContent[fieldKey][subFieldKey].length) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nvar FourCorners = function FourCorners() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  _classCallCheck(this, FourCorners);\n\n  var embeds = [];\n\n  if (opts.elem instanceof Element) {\n    embeds = [opts.elem];\n  } else if (NodeList.prototype.isPrototypeOf(opts.elem)) {\n    embeds = Array.from(opts.elem);\n  } else {\n    var selector = typeof opts.elem == 'string' ? opts.elem : '.fc-embed';\n    embeds = Array.from(document.querySelectorAll(selector + ':not(.fc-init)'));\n  }\n\n  var insts = [];\n  embeds.forEach(function (embed, i) {\n    var inst = new FourCornersPhoto(embed, opts);\n    insts.push(inst);\n  });\n  return insts;\n};\n\nmodule.exports = FourCorners;\n\n//# sourceURL=webpack://FourCorners/./src/index.js?");

/***/ }),

/***/ "./src/styles.scss":
/*!*************************!*\
  !*** ./src/styles.scss ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://FourCorners/./src/styles.scss?");

/***/ }),

/***/ 0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! /Users/coreytegeler/Sites/fourcorners.js/src/index.js */\"./src/index.js\");\n\n\n//# sourceURL=webpack://FourCorners/multi_./src/index.js?");

/***/ })

/******/ });
});